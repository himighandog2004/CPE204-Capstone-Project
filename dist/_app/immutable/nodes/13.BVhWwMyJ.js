import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as it,o as lt,b as m,u as nt,v as ct,g as t,a as vt,m as b,c as s,d,r,t as ut,q as mt}from"../chunks/7rSjAqwL.js";import{e as U,s as n}from"../chunks/CZq_rD3P.js";import{i as ft}from"../chunks/BuTimael.js";import{e as bt,i as pt}from"../chunks/D-YYzeMW.js";import{t as x,a as _}from"../chunks/VPhd0wVP.js";import{r as _t}from"../chunks/DNYWoyz_.js";import{b as xt}from"../chunks/CeqDkE_D.js";import{i as gt}from"../chunks/xGIyzegC.js";import{a as ht}from"../chunks/BKaElybV.js";var wt=x('<div class="badge badge-success">Active</div>'),At=x('<div class="badge badge-error">Inactive</div>'),yt=x("<tr><th></th><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td><!></td></tr>"),Ct=x('<div class="flex flex-col h-full w-full"><div class="bg-gray-700 rounded-xl shadow-lg p-4"><div class="flex flex-row w-full justify-between"><h1 class="text-3xl text-white">Patient List</h1> <a href="/dashboard/admin/sidebar/appointments" class="text-xl text-white underline mt-1 mr-2">View Appointments</a></div> <div class="flex justify-between items-center mb-3 pr-2 mt-2"><input type="text" placeholder="Search name, email, or phone..." class="input input-sm input-bordered w-1/2"> <div class="space-x-2"><button class="btn btn-xs">Sort by Name</button> <button class="btn btn-xs">Sort by Date</button></div></div> <div class="overflow-x-auto overflow-y-scroll w-full h-115 bg-base-100 rounded-lg"><table class="table table-sm table-pin-rows table-pin-cols"><thead><tr><th>#</th><td class="w-50">Name</td><td>Birthdate</td><td>Age</td><td>Sex</td><td>Phone</td><td>Address</td><td>Email</td><td>Date Registered</td><td>Status</td></tr></thead><tbody></tbody></table></div></div></div>');function zt(W,G){it(G,!1);const j=b();let g=b([]);const h=lt("patients");let w;h&&typeof h.subscribe=="function"&&(w=h.subscribe(e=>{m(g,e)})),ht(()=>{w&&w()});let c=b(""),v=b(""),u=b(!0);function q(e){t(v)===e?m(u,!t(u)):(m(v,e),m(u,!0))}function p(e){return(e==null?void 0:e.toLowerCase().replace(/\b\w/g,a=>a.toUpperCase()))??""}nt(()=>(t(g),t(c),t(v),t(u)),()=>{m(j,[...t(g)].filter(e=>{var i,o;return`${e.name} ${e.surname}`.toLowerCase().includes(t(c).toLowerCase())||((i=e.email)==null?void 0:i.toLowerCase().includes(t(c).toLowerCase()))||((o=e.phone)==null?void 0:o.includes(t(c)))}).map(e=>({...e,createdAt:e.createdAt?new Date(e.createdAt):new Date(0)})).sort((e,a)=>{if(!t(v))return a.createdAt.getTime()-e.createdAt.getTime();const i=e[t(v)]??"",o=a[t(v)]??"";return typeof i=="string"&&typeof o=="string"?t(u)?i.localeCompare(o):o.localeCompare(i):e.createdAt&&a.createdAt?t(u)?e.createdAt.getTime()-a.createdAt.getTime():a.createdAt.getTime()-e.createdAt.getTime():0}))}),ct(),gt();var A=Ct(),$=s(A),y=d(s($),2),C=s(y);_t(C);var z=d(C,2),B=s(z),H=d(B,2);r(z),r(y);var E=d(y,2),F=s(E),I=d(s(F));bt(I,5,()=>t(j),pt,(e,a,i)=>{var o=yt(),Q=s(o);Q.textContent=i+1;var S=d(Q),J=s(S);r(S);var D=d(S),K=s(D,!0);r(D);var L=d(D),M=s(L,!0);r(L);var T=d(L),O=s(T,!0);r(T);var N=d(T),X=s(N,!0);r(N);var P=d(N),Y=s(P,!0);r(P);var k=d(P),Z=s(k,!0);r(k);var V=d(k),tt=s(V,!0);r(V);var R=d(V),et=s(R);{var at=l=>{var f=wt();_(l,f)},rt=l=>{var f=At();_(l,f)};ft(et,l=>{t(a).isActive===!0?l(at):l(rt,!1)})}r(R),r(o),ut((l,f,st,dt,ot)=>{n(J,`${l??""} ${f??""}`),n(K,t(a).birthdate||"-"),n(M,t(a).age??"-"),n(O,st),n(X,t(a).phone||"-"),n(Y,dt),n(Z,t(a).email||"-"),n(tt,ot)},[()=>p(t(a).name),()=>p(t(a).surname),()=>p(t(a).sex)||"-",()=>p(t(a).address)||"-",()=>t(a).createdAt?new Date(t(a).createdAt).toLocaleDateString():"-"],mt),_(e,o)}),r(I),r(F),r(E),r($),r(A),xt(C,()=>t(c),e=>m(c,e)),U("click",B,()=>q("name")),U("click",H,()=>q("createdAt")),_(W,A),vt()}export{zt as component};
