import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as et,o as at,b as p,u as rt,v as st,g as e,a as lt,m,d as l,c as s,r,t as ot,q as it}from"../chunks/fyA_xwwE.js";import{e as T,s as f}from"../chunks/DFa6dEAd.js";import{i as dt}from"../chunks/CNHKDqpi.js";import{e as ct,i as nt}from"../chunks/DRxKP6pH.js";import{t as _,a as b}from"../chunks/DWMNOJpS.js";import{r as ut}from"../chunks/C5uBth1j.js";import{b as pt}from"../chunks/B1v9Q_Xp.js";import{p as vt}from"../chunks/CWmzcjye.js";import{i as mt}from"../chunks/DUL5_GJ7.js";import{a as ft}from"../chunks/CcDUpYYR.js";var bt=_('<div class="badge badge-sm badge-success">Active</div>'),_t=_('<div class="badge badge-sm badge-error">Inactive</div>'),gt=_("<tr><th></th><td> </td><td> </td><td> </td><td> </td><td> </td><td><!></td></tr>"),xt=_('<div class="flex flex-row h-145 w-full justify-between items-between"><div class="flex flex-col w-115"><div class="flex flex-row w-[100%] justify-between"><h1 class="text-3xl text-white">List of Doctors</h1> <button class="btn btn-soft btn-success">Add Doctor</button></div> <form class="bg-white h-full w-full items-center justify-center space-y-2"><label class="input input-neutral"><input class="grow" type="text" required placeholder="First Name"></label> <label class="input input-neutral"><input class="grow" type="text" required placeholder="Last Name"></label> <label class="input input-neutral"><input class="grow" type="text" required placeholder=""></label> <label class="input input-neutral"><input class="grow" type="text" required placeholder=""></label></form></div> <div class="flex flex-col bg-[#2c2c2c] p-3 pt-2 rounded-xl w-[60%]"><div class="flex justify-between items-center mb-3 pr-2 mt-2"><input type="text" placeholder="Search name, email, or phone..." class="input input-sm input-bordered w-1/2"> <div class="space-x-2"><button class="btn btn-xs">Sort by Name</button> <button class="btn btn-xs">Sort by Date</button></div></div> <div class="overflow-x-auto overflow-y-scroll w-full h-128 bg-base-100 rounded-lg"><table class="table table-xs table-pin-rows table-pin-cols"><thead><tr><th>#</th><td class="w-40">Name</td><td>Specialty</td><td>Phone</td><td>Address</td><td>Email</td><td>Status</td></tr></thead><tbody></tbody></table></div></div></div>');function kt(W,B){et(B,!1);const j=m();let g=m([]);const x=at("doctors");let w;x&&typeof x.subscribe=="function"&&(w=x.subscribe(t=>{p(g,t)})),ft(()=>{w&&w()});let c=m(""),n=m(""),u=m(!0);function k(t){e(n)===t?p(u,!e(u)):(p(n,t),p(u,!0))}function F(t){return(t==null?void 0:t.toLowerCase().replace(/\b\w/g,a=>a.toUpperCase()))??""}rt(()=>(e(g),e(c),e(n),e(u)),()=>{p(j,[...e(g)].filter(t=>{var i,o;return`${t.name} ${t.surname}`.toLowerCase().includes(e(c).toLowerCase())||((i=t.email)==null?void 0:i.toLowerCase().includes(e(c).toLowerCase()))||((o=t.phone)==null?void 0:o.includes(e(c)))}).map(t=>({...t,createdAt:t.createdAt?new Date(t.createdAt):new Date(0)})).sort((t,a)=>{if(!e(n))return a.createdAt.getTime()-t.createdAt.getTime();const i=t[e(n)]??"",o=a[e(n)]??"";return typeof i=="string"&&typeof o=="string"?e(u)?i.localeCompare(o):o.localeCompare(i):t.createdAt&&a.createdAt?e(u)?t.createdAt.getTime()-a.createdAt.getTime():a.createdAt.getTime()-t.createdAt.getTime():0}))}),st(),mt();var h=xt(),y=s(h),G=l(s(y),2);r(y);var V=l(y,2),A=s(V),D=s(A);ut(D);var $=l(D,2),z=s($),H=l(z,2);r($),r(A);var E=l(A,2),I=s(E),P=l(s(I));ct(P,5,()=>e(j),nt,(t,a,i)=>{var o=gt(),Q=s(o);Q.textContent=i+1;var C=l(Q),J=s(C);r(C);var L=l(C),K=s(L,!0);r(L);var S=l(L),M=s(S,!0);r(S);var q=l(S),O=s(q,!0);r(q);var N=l(q),R=s(N,!0);r(N);var U=l(N),X=s(U);{var Y=d=>{var v=bt();b(d,v)},Z=d=>{var v=_t();b(d,v)};dt(X,d=>{e(a).isActive===!0?d(Y):d(Z,!1)})}r(U),r(o),ot((d,v,tt)=>{f(J,`${d??""} ${v??""}`),f(K,e(a).specialty||"-"),f(M,e(a).phone||"-"),f(O,e(a).email||"-"),f(R,tt)},[()=>F(e(a).name),()=>F(e(a).surname),()=>e(a).createdAt?new Date(e(a).createdAt).toLocaleDateString():"-"],it),b(t,o)}),r(P),r(I),r(E),r(V),r(h),T("submit",G,vt(addDoctor)),pt(D,()=>e(c),t=>p(c,t)),T("click",z,()=>k("name")),T("click",H,()=>k("createdAt")),b(W,h),lt()}export{kt as component};
