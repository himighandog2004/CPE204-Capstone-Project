const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/C6r7_MrR.js","../chunks/BUJsW1Et.js"])))=>i.map(i=>d[i]);
import{_ as oa}from"../chunks/Dp1pzeXC.js";import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as ra,s as j,f as ia,a as la,b as E,m as H,g as M,c as a,r as t,n,d as u}from"../chunks/fyA_xwwE.js";import{e as O}from"../chunks/DFa6dEAd.js";import{c as na,a as c,t as v}from"../chunks/DWMNOJpS.js";import{i as da}from"../chunks/CNHKDqpi.js";import{s as ma}from"../chunks/DG6xUKLB.js";import{i as ca}from"../chunks/DUL5_GJ7.js";import{o as ua}from"../chunks/CcDUpYYR.js";import{w as va}from"../chunks/B3WABoGI.js";import{g as I,o as pa,d as N,a as f,b as fa,q as Q,c as B,w as F,e as T,s as ba}from"../chunks/C6r7_MrR.js";import{_ as _a,L as V}from"../chunks/iQuuwBUd.js";import{_ as ha}from"../chunks/lI7Ky7Md.js";import{p as ga,d as ya}from"../chunks/BP_NDEYP.js";import{p as G,U as wa,P as Pa,R as xa,A as Aa}from"../chunks/CBDH4t1Q.js";import{H as Ra}from"../chunks/DwWKgFmY.js";var La=v('<div class="w-screen min-h-screen flex items-center justify-center"><!></div>'),$a=v('<div slot="sidebar"><div class="flex flex-col items-start justify-start pl-1 font-extrabold"><ul class="menu w-full text-lg space-y-2"><li><a href="/dashboard/admin"><!> Home</a></li> <li><details open><summary><img src="/bed-pulse-solid.png" class="w-6 h-5" alt="patient"> Patient Records</summary> <ul class="text-base w-50"><li><a href="/dashboard/admin/sidebar/patientlist">Patient List</a></li> <li><a href="/dashboard/admin/sidebar/appointments">Appointments</a></li></ul></details></li> <li><details open><summary><!> Staff Management</summary> <ul class="text-base w-50"><li><a href="/dashboard/admin/sidebar/doctorslist">Manage/Add Doctors</a></li> <li><a href="/dashboard/admin/sidebar/doctortopatient">Assign to Patient</a></li></ul></details></li> <li><details open><summary><!> Inventory</summary> <ul class="text-base w-50"><li><a href="/dashboard/admin/sidebar/pharmacy">Pharmacy</a></li> <li><a href="/dashboard/admin/sidebar/equipment">Equipment</a></li></ul></details></li> <li><a href="/dashboard/admin/sidebar/listbill"><!> Billing Overview</a></li> <li><a href="/dashboard/admin/sidebar/analytics"><!> Analytics</a></li> <li class="pt-4"><button class="btn btn-soft btn-info w-full flex items-center gap-2"><!> Logout</button></li></ul></div></div>'),ka=v('<div slot="navbar"></div>'),Da=v('<div slot="dropdown"><li><button><!>Logout</button></li></div>'),qa=v('<div slot="main" class="w-full"><!></div>');function Ja(J,w){ra(w,!1);let P=H(""),K="https://static.vecteezy.com/system/resources/thumbnails/008/442/086/small_2x/illustration-of-human-icon-user-symbol-icon-modern-design-on-blank-background-free-vector.jpg",x=H(!0),A=[],R=va("");j("patients",G),j("userName",R),ua(()=>{const r=I();pa(r,async o=>{if(!o){window.location.href="/login";return}try{const i=N(f,"users",o.uid),s=(await fa(i)).data();E(P,(s==null?void 0:s.role)||""),R.set(((s==null?void 0:s.name)||"")+(s!=null&&s.surname?" "+s.surname:""));const d=Q(B(f,"users"),F("role","==","Patient")),l=await T(d);console.log("Patient docs found:",l.size,l.docs.map(m=>m.data())),ga.set(l.size),A=l.docs.map(m=>({id:m.id,...m.data()})),G.set(A);const p=Q(B(f,"users"),F("role","==","Doctor")),b=await T(p);ya.set(b.size)}catch(i){console.error("Failed to load patient count:",i)}finally{E(x,!1)}})});function L(){const r=I(),o=r.currentUser;if(o){const i=N(f,"users",o.uid);oa(async()=>{const{updateDoc:e}=await import("../chunks/C6r7_MrR.js").then(s=>s.p);return{updateDoc:e}},__vite__mapDeps([0,1]),import.meta.url).then(({updateDoc:e})=>{e(i,{isActive:!1})})}ba(r).then(()=>{window.location.href="/login"})}ca();var $=na(),W=ia($);{var X=r=>{var o=La(),i=a(o);ha(i),t(o),c(r,o)},Y=r=>{_a(r,{avatarUrl:K,get selectedRole(){return M(P)},$$slots:{sidebar:(o,i)=>{var e=$a(),s=a(e),d=a(s),l=a(d),p=a(l),b=a(p);Ra(b,{}),n(),t(p),t(l);var m=u(l,4),k=a(m),D=a(k),Z=a(D);wa(Z,{}),n(),t(D),n(2),t(k),t(m);var _=u(m,2),q=a(_),S=a(q),aa=a(S);Pa(aa,{}),n(),t(S),n(2),t(q),t(_);var h=u(_,2),z=a(h),ta=a(z);xa(ta,{}),n(),t(z),t(h);var g=u(h,2),C=a(g),sa=a(C);Aa(sa,{}),n(),t(C),t(g);var U=u(g,2),y=a(U),ea=a(y);V(ea,{}),n(),t(y),t(U),t(d),t(s),t(e),O("click",y,L),c(o,e)},navbar:(o,i)=>{var e=ka();c(o,e)},dropdown:(o,i)=>{var e=Da(),s=a(e),d=a(s),l=a(d);V(l,{}),n(),t(d),t(s),t(e),O("click",d,L),c(o,e)},main:(o,i)=>{var e=qa(),s=a(e);ma(s,w,"default",{}),t(e),c(o,e)}}})};da(W,r=>{M(x)?r(X):r(Y,!1)})}c(J,$),la()}export{Ja as component};
