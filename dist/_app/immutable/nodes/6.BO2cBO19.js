import{t as u,a as v}from"../chunks/OnU_l3An.js";import"../chunks/BsN24l2h.js";import{p as xt,s as m,i as E,t as U,a as mt,j as o,k as a,m as h,r as e,l as k,o as l,q as rt}from"../chunks/FB_gRupF.js";import{s as b}from"../chunks/BkxHr61Q.js";import{i as ot}from"../chunks/BydVSvHb.js";import{e as lt,i as dt}from"../chunks/BWNo7gSO.js";import{i as ht}from"../chunks/0NZHIKlb.js";import{o as _t,a as wt}from"../chunks/SaxHpMRh.js";import{p as gt,d as At}from"../chunks/Clgg6vcR.js";import{q as yt,w as Ct,c as Dt,d as St,o as jt}from"../chunks/CLR_ZPnl.js";var Tt=u('<div class="badge badge-success">Active</div>'),qt=u('<div class="badge badge-error">Inactive</div>'),Nt=u("<tr><th></th><td> </td><td> </td><td><!></td></tr>"),Pt=u('<div class="badge badge-sm badge-success">Active</div>'),Ft=u('<div class="badge badge-sm badge-error">Inactive</div>'),Lt=u("<tr><th></th><td> </td><td> </td><td><!></td></tr>"),Rt=u('<div class="flex flex-col h-full w-full p-4 pt-1 pl-1"><div class="flex flex-row w-full justify-between gap-6"><div class="bg-[#2c2c2c] rounded-xl shadow-lg w-full p-5 flex flex-col items-center justify-center"><span class="text-2xl font-semibold text-white">Patients</span> <span class="text-5xl font-extrabold text-[#F5C45E] mt-2"> </span> <span class="text-white mt-1">Total Registered</span></div> <div class="bg-[#2c2c2c] rounded-xl shadow-md w-full p-6 flex flex-col items-center justify-center"><span class="text-2xl font-semibold text-white">Staff</span> <span class="text-5xl font-extrabold text-[#F5C45E] mt-2"> </span> <span class="text-white mt-1">Doctors</span></div> <div class="bg-[#2c2c2c] rounded-xl shadow-md w-full p-6 flex flex-col items-center justify-center"><span class="text-2xl font-semibold text-white">Appointments</span> <span class="text-5xl font-extrabold text-[#F5C45E] mt-2"> </span> <span class="text-white mt-1">Upcoming</span></div></div> <div class="flex flex-row w-full h-96"><div class="card-container flex flex-col w-1/2 h-full bg-[#2C2C2C] rounded-xl shadow-md items-center p-5 pb-2 mt-6"><div class="flex flex-row w-full items-start justify-between"><h1 class="text-3xl font-bold text-white">Recent Patients</h1> <a href="/dashboard/admin/sidebar/patientlist" class="text-lg underline text-white mt-2">View Full List</a></div> <div class="flex flex-row h-90 w-full pt-1 pb-1"><div class="overflow-x-auto w-full rounded-box border border-base-content/3 bg-base-200"><table class="table"><thead><tr><th>#</th><th>Name</th><th>Date Registered</th><th>Status</th></tr></thead><tbody></tbody></table></div></div></div> <div class="card-container flex flex-col w-1/2 h-full bg-[#2c2c2c] rounded-xl shadow-md items-center p-5 pb-2 mt-6 ml-6"><h1 class="text-2xl font-bold text-white mb-4">Recently Added Doctors</h1> <div class="flex flex-row h-90 w-full pt-1 pb-1"><div class="overflow-x-auto w-full rounded-box border border-base-content/3 bg-base-200"><table class="table"><thead><tr><th>#</th><th>Name</th><th>Specialization</th><th>Status</th></tr></thead><tbody></tbody></table></div></div></div></div></div>');function Ht(it,nt){xt(nt,!1);let I=h(0),M=h(0),V=h(0);const ct=gt.subscribe(t=>{m(I,t)}),vt=At.subscribe(t=>{m(M,t)});let W=h([]);const w=E("patients");let g;w&&typeof w.subscribe=="function"&&(g=w.subscribe(t=>{m(W,t)}));const A=E("userName");let y;A&&typeof A.subscribe=="function"&&(y=A.subscribe(t=>{}));let B=h([]);const C=E("doctors");let D;C&&typeof C.subscribe=="function"&&(D=C.subscribe(t=>{m(B,t)}));function _(t){return(t==null?void 0:t.toLowerCase().replace(/\b\w/g,s=>s.toUpperCase()))??""}_t(()=>{const t=yt(Dt(St,"appointments"),Ct("status","==","Pending"));unsubAppointments=jt(t,s=>{m(V,s.size)})}),wt(()=>{ct(),vt(),g&&g(),y&&y(),D&&D(),unsubAppointments&&unsubAppointments()}),ht();var S=Rt(),j=a(S),T=a(j),G=o(a(T),2),bt=a(G,!0);e(G),k(2),e(T);var q=o(T,2),H=o(a(q),2),ut=a(H,!0);e(H),k(2),e(q);var J=o(q,2),K=o(a(J),2),ft=a(K,!0);e(K),k(2),e(J),e(j);var O=o(j,2),N=a(O),Q=o(a(N),2),X=a(Q),Y=a(X),Z=o(a(Y));lt(Z,5,()=>[...l(W)].map(t=>({...t,createdAt:t.createdAt?new Date(t.createdAt):new Date(0)})).sort((t,s)=>s.createdAt.getTime()-t.createdAt.getTime()).slice(0,5),dt,(t,s,f)=>{var i=Nt(),p=a(i);p.textContent=f===0?1:f+1;var n=o(p),P=a(n);e(n);var c=o(n),F=a(c,!0);e(c);var x=o(c),L=a(x);{var R=r=>{var d=Tt();v(r,d)},z=r=>{var d=qt();v(r,d)};ot(L,r=>{l(s).isActive===!0?r(R):r(z,!1)})}e(x),e(i),U((r,d,pt)=>{b(P,`${r??""} ${d??""}`),b(F,pt)},[()=>_(l(s).name),()=>_(l(s).surname),()=>l(s).createdAt&&l(s).createdAt.getTime()>0?l(s).createdAt.toLocaleDateString():"-"],rt),v(t,i)}),e(Z),e(Y),e(X),e(Q),e(N);var $=o(N,2),tt=o(a($),2),et=a(tt),at=a(et),st=o(a(at));lt(st,5,()=>[...l(B)].map(t=>({...t,createdAt:t.createdAt?new Date(t.createdAt):new Date(0)})).sort((t,s)=>s.createdAt.getTime()-t.createdAt.getTime()).slice(0,5),dt,(t,s,f)=>{var i=Lt(),p=a(i);p.textContent=f===0?1:f+1;var n=o(p),P=a(n);e(n);var c=o(n),F=a(c,!0);e(c);var x=o(c),L=a(x);{var R=r=>{var d=Pt();v(r,d)},z=r=>{var d=Ft();v(r,d)};ot(L,r=>{l(s).isActive===!0?r(R):r(z,!1)})}e(x),e(i),U((r,d)=>{b(P,`${r??""} ${d??""}`),b(F,l(s).specialty)},[()=>_(l(s).name),()=>_(l(s).surname)],rt),v(t,i)}),e(st),e(at),e(et),e(tt),e($),e(O),e(S),U(()=>{b(bt,l(I)),b(ut,l(M)),b(ft,l(V))}),v(it,S),mt()}export{Ht as component};
