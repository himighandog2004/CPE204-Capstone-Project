import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as lt,o as nt,b as m,u as ct,v as vt,g as t,a as ut,m as f,c as s,d,n as mt,r,t as bt,q as ft}from"../chunks/fyA_xwwE.js";import{e as W,s as n}from"../chunks/DFa6dEAd.js";import{i as pt}from"../chunks/CNHKDqpi.js";import{e as _t,i as xt}from"../chunks/DRxKP6pH.js";import{t as x,a as _}from"../chunks/DWMNOJpS.js";import{r as gt}from"../chunks/C5uBth1j.js";import{b as ht}from"../chunks/B1v9Q_Xp.js";import{i as wt}from"../chunks/DUL5_GJ7.js";import{a as At}from"../chunks/CcDUpYYR.js";var yt=x('<div class="badge badge-success">Active</div>'),Ct=x('<div class="badge badge-error">Inactive</div>'),St=x("<tr><th></th><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td><!></td></tr>"),Dt=x('<div class="flex flex-col h-full w-full"><div class="bg-[#102e50] rounded-t-xl p-2 pt-3 px-4"><div class="flex flex-row w-full justify-between"><h1 class="text-3xl text-white">Patient List</h1> <a href="/dashboard/admin/sidebar/appointments" class="text-xl text-white underline mt-1 mr-2">View Appointments</a></div> <div class="flex justify-between items-center mb-3 pr-2 mt-2"><input type="text" placeholder="Search name, email, or phone..." class="input input-sm w-1/2"> <div class="space-x-2"><button class="btn btn-xs btn-soft btn-success">Sort by Name</button> <button class="btn btn-xs btn-soft btn-success">Sort by Date</button> <button class="btn btn-xs btn-soft btn-error">Remove Patient</button></div></div></div> <hr class="border-t-2 border-black"> <div class="bg-[#2c2c2c] rounded-b-xl p-5"><div class="overflow-x-auto overflow-y-scroll w-full h-108 bg-base-100 rounded-lg"><table class="table table-sm table-pin-rows table-pin-cols"><thead><tr><th>#</th><td class="w-50">Name</td><td>Birthdate</td><td>Age</td><td>Sex</td><td>Phone</td><td>Address</td><td>Email</td><td>Date Registered</td><td>Status</td></tr></thead><tbody></tbody></table></div></div></div>');function Bt(G,H){lt(H,!1);const j=f();let g=f([]);const h=nt("patients");let w;h&&typeof h.subscribe=="function"&&(w=h.subscribe(e=>{m(g,e)})),At(()=>{w&&w()});let c=f(""),v=f(""),u=f(!0);function q(e){t(v)===e?m(u,!t(u)):(m(v,e),m(u,!0))}function p(e){return(e==null?void 0:e.toLowerCase().replace(/\b\w/g,a=>a.toUpperCase()))??""}ct(()=>(t(g),t(c),t(v),t(u)),()=>{m(j,[...t(g)].filter(e=>{var i,o;return`${e.name} ${e.surname}`.toLowerCase().includes(t(c).toLowerCase())||((i=e.email)==null?void 0:i.toLowerCase().includes(t(c).toLowerCase()))||((o=e.phone)==null?void 0:o.includes(t(c)))}).map(e=>({...e,createdAt:e.createdAt?new Date(e.createdAt):new Date(0)})).sort((e,a)=>{if(!t(v))return a.createdAt.getTime()-e.createdAt.getTime();const i=e[t(v)]??"",o=a[t(v)]??"";return typeof i=="string"&&typeof o=="string"?t(u)?i.localeCompare(o):o.localeCompare(i):e.createdAt&&a.createdAt?t(u)?e.createdAt.getTime()-a.createdAt.getTime():a.createdAt.getTime()-e.createdAt.getTime():0}))}),vt(),wt();var A=Dt(),y=s(A),R=d(s(y),2),C=s(R);gt(C);var $=d(C,2),z=s($),J=d(z,2);mt(2),r($),r(R),r(y);var B=d(y,4),E=s(B),F=s(E),I=d(s(F));_t(I,5,()=>t(j),xt,(e,a,i)=>{var o=St(),Q=s(o);Q.textContent=i+1;var S=d(Q),K=s(S);r(S);var D=d(S),M=s(D,!0);r(D);var L=d(D),O=s(L,!0);r(L);var T=d(L),X=s(T,!0);r(T);var P=d(T),Y=s(P,!0);r(P);var k=d(P),Z=s(k,!0);r(k);var N=d(k),tt=s(N,!0);r(N);var V=d(N),et=s(V,!0);r(V);var U=d(V),at=s(U);{var rt=l=>{var b=yt();_(l,b)},st=l=>{var b=Ct();_(l,b)};pt(at,l=>{t(a).isActive===!0?l(rt):l(st,!1)})}r(U),r(o),bt((l,b,dt,ot,it)=>{n(K,`${l??""} ${b??""}`),n(M,t(a).birthdate||"-"),n(O,t(a).age??"-"),n(X,dt),n(Y,t(a).phone||"-"),n(Z,ot),n(tt,t(a).email||"-"),n(et,it)},[()=>p(t(a).name),()=>p(t(a).surname),()=>p(t(a).sex)||"-",()=>p(t(a).address)||"-",()=>t(a).createdAt?new Date(t(a).createdAt).toLocaleDateString():"-"],ft),_(e,o)}),r(I),r(F),r(E),r(B),r(A),ht(C,()=>t(c),e=>m(c,e)),W("click",z,()=>q("name")),W("click",J,()=>q("createdAt")),_(G,A),ut()}export{Bt as component};
