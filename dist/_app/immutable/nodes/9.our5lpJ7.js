import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as B,a as D,f as ae,h as se,g as t,c as a,s as r,d as o,m as c,b as s,t as Z}from"../chunks/B4yUTaZg.js";import{s as ee}from"../chunks/BorGIr2d.js";import{s as re,r as le,i as z}from"../chunks/IJ79yAtH.js";import{c as oe,a as d,t as F,b as be}from"../chunks/CO_T4kFq.js";import{I as ie,s as ne,r as f}from"../chunks/CnpYhvpb.js";import{e as he}from"../chunks/1W6vjebl.js";import{b,h as ge,a as _e,i as xe,e as we,f as Fe}from"../chunks/C848jhzL.js";import{p as ye}from"../chunks/CWmzcjye.js";import{i as $e}from"../chunks/BTQRHe9S.js";import{U as te}from"../chunks/DdrEcyy6.js";import{M as Pe}from"../chunks/DWDaNjI0.js";import{K as ke}from"../chunks/E4jfsbhi.js";function Ae(p,i){B(i,!0);let u=le(i,["$$slots","$$events","$$legacy"]);ie(p,re({name:"house"},()=>u,{iconNode:[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}]],children:(v,g)=>{var n=oe(),m=ae(n);ne(m,()=>i.children??se),d(v,n)},$$slots:{default:!0}})),D()}function Me(p,i){B(i,!0);let u=le(i,["$$slots","$$events","$$legacy"]);ie(p,re({name:"phone"},()=>u,{iconNode:[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}]],children:(v,g)=>{var n=oe(),m=ae(n);ne(m,()=>i.children??se),d(v,n)},$$slots:{default:!0}})),D()}var Ne=F('<a href="/" class="flex items-center justify-start w-full"><img src="/backbtn.png" alt="Back Button" class="backbtn w-8 h-8 mt-15 ml-3 hover:bg-[#FFFF] rounded-xl duration-300 svelte-iosgd9"></a>');function Le(p){var i=Ne();d(p,i)}var Ce=F('<span class="loading loading-spinner text-neutral"></span>'),Ee=F('<div class="toast toast-end"><div role="alert" class="alert alert-error alert-soft mt-4 text-white rounded-lg"><span> </span></div></div>'),Ue=F('<div class="toast toast-end"><div class="alert alert-success alert-soft mt-4 text-white rounded-lg"><span> </span></div></div>'),je=F('<div class="bg-[#181818] w-screen h-screen flex items-stretch justify-center"><div class="register-card h-full bg-[#f7374f] flex min-h-full flex-col items-center w-1/2 overflow-y-hidden svelte-1cus580"><!> <div class="flex flex-col items-center w-full pt-2 pb-2"><img src="/cloudward.png" alt="Logo" class="w-15 h-15 mt-6"> <h1 class="text-3xl text-white font-bold mt-2">CloudWard</h1> <p class="text-white text-sm">Register</p></div> <form class="flex flex-col items-center space-y-4 h-full min-h-screen w-full px-6 mt-3"><label class="input input-bordered bg-[#181818] svelte-1cus580"><!> <input class="text-white" type="text" placeholder="First Name"></label> <label class="input input-bordered bg-[#181818] svelte-1cus580"><!> <input class="text-white" type="text" placeholder="Last Name"></label> <label class="input input-bordered bg-[#181818] svelte-1cus580"><!> <input class="text-white" type="tel" placeholder="Phone Number"></label> <label class="input input-bordered bg-[#181818] svelte-1cus580"><!> <input class="text-white" type="text" placeholder="Address"></label> <label class="input input-bordered bg-[#181818] svelte-1cus580"><!> <input class="text-white" type="email" placeholder="Email"></label> <label class="input input-bordered bg-[#181818] svelte-1cus580"><!> <input class="text-white" type="password" placeholder="Password"></label> <button type="submit" class="btn bg-white text-black hover:bg-gray-200 w-1/2 font-bold"><!></button> <p class="text-white text-sm">Already have an account? <a href="/login" class="log-link font-bold text-[#181818] svelte-1cus580">Login</a></p> <!> <!></form></div></div>');function Qe(p,i){B(i,!1);let u=c(""),h=c(""),v=c(""),g=c(""),n=c(""),m=c(""),y=c(""),_=c(""),$=c(!1);async function ce(){o($,!0),o(_,"");try{const l=(await ge(_e,t(n),t(m))).user;await xe(we(Fe,"users",l.uid),{name:t(u),surname:t(h),phone:t(v),address:t(g),email:l.email,role:"Patient"}),o(y,"Account created successfully."),window.location.href="/login"}catch(e){e instanceof Error&&(e.message.includes("email-already-in-use")?o(_,"This email is already registered. Please use a different email."):o(_,"Something went wrong. Please try again."),console.error(e.message))}finally{o($,!1)}}$e();var P=je(),H=a(P),I=a(H);Le(I);var k=r(I,4),A=a(k),K=a(A);te(K,{color:"#FFFF"});var R=r(K,2);f(R),s(A);var M=r(A,2),W=a(M);te(W,{color:"#FFFF"});var S=r(W,2);f(S),s(M);var N=r(M,2),T=a(N);Me(T,{color:"#FFFF"});var q=r(T,2);f(q),s(N);var L=r(N,2),G=a(L);Ae(G,{color:"#FFFF"});var J=r(G,2);f(J),s(L);var C=r(L,2),O=a(C);Pe(O,{color:"#FFFF"});var Q=r(O,2);f(Q),s(C);var E=r(C,2),V=a(E);ke(V,{color:"#FFFF"});var X=r(V,2);f(X),s(E);var U=r(E,2),de=a(U);{var pe=e=>{var l=Ce();d(e,l)},ue=e=>{var l=be("Register");d(e,l)};z(de,e=>{t($)?e(pe):e(ue,!1)})}s(U);var Y=r(U,4);{var ve=e=>{var l=Ee(),x=a(l),w=a(x),j=a(w,!0);s(w),s(x),s(l),Z(()=>ee(j,t(_))),d(e,l)};z(Y,e=>{t(_)&&e(ve)})}var me=r(Y,2);{var fe=e=>{var l=Ue(),x=a(l),w=a(x),j=a(w,!0);s(w),s(x),s(l),Z(()=>ee(j,t(y))),d(e,l)};z(me,e=>{t(y)&&e(fe)})}s(k),s(H),s(P),b(R,()=>t(u),e=>o(u,e)),b(S,()=>t(h),e=>o(h,e)),b(q,()=>t(v),e=>o(v,e)),b(J,()=>t(g),e=>o(g,e)),b(Q,()=>t(n),e=>o(n,e)),b(X,()=>t(m),e=>o(m,e)),he("submit",k,ye(ce)),d(p,P),D()}export{Qe as component};
