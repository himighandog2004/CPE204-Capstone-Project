import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{e as Z,g as a,i as $,s as n,j as r,k as i,m as p,r as s,t as B,P as ee}from"../chunks/B3JB-DRe.js";import{e as K,s as W}from"../chunks/CENfdUkR.js";import{i as j}from"../chunks/ohbgY07t.js";import{e as te,i as ae,r as z,b as se}from"../chunks/Bjcyuno3.js";import{t as f,a as d,b as re}from"../chunks/Ds1YGPe8.js";import{b as S}from"../chunks/Zbet6IEB.js";import{p as oe}from"../chunks/CWmzcjye.js";import{i as le}from"../chunks/DM5D0Smv.js";import{g as R}from"../chunks/BUgJoOIp.js";import{f as ie,e as ne,a as ce,d as de,b as fe}from"../chunks/DZ5ynwgK.js";import{M as ue}from"../chunks/Bzt0cYpm.js";import{K as ve}from"../chunks/xun7GkkK.js";var pe=f('<a href="/" class="flex items-center justify-start w-full"><img src="/backbtn.png" alt="Back Button" class="backbtn w-8 h-8 mt-3 ml-3 hover:bg-[#FFFF] rounded-xl duration-300"></a>');function me(x){var g=pe();d(x,g)}var be=f('<span class="text-green-500">âœ“</span>'),xe=f("<li><button> <!></button></li>"),ge=f('<span class="loading loading-spinner text-neutral"></span>'),he=f('<div class="toast"><div role="alert" class="alert alert-error alert-soft mt-4 text-white rounded-lg"><span> </span></div></div>'),_e=f(`<div class="bg-[#181818] w-screen h-screen flex items-center justify-center overflow-hidden"><div class="login-card rounded-3xl bg-[#f7374f] flex flex-col items-center text-white svelte-yqnlg7"><!> <div class="flex flex-col items-center justify-center"><img src="/cloudward.png" alt="Logo" class="w-32 h-32 mb-5"> <h1 class="text-3xl text-white font-bold mb-1">CloudWard</h1></div> <div class="menu menu-horizontal bg-[#181818] rounded-xl"></div> <form class="flex flex-col items-center justify-evenly h-full w-full px-6 mt-3"><label class="input input-neutral"><!> <input class="text-white" type="text" placeholder="E-Mail"></label> <label class="input input-neutral"><!> <input class="text-white" type="password" placeholder="Password"></label> <button type="submit" class="btn btn-soft btn-info rounded-xl w-1/2 font-bold"><!></button> <div class="flex flex-col items-center"><p class="text-white text-sm">Don't have an account? <a href="/register" class="log-link font-bold text-[#181818] svelte-yqnlg7">Register</a></p> <p class="text-white text-sm">Forgot your password? <a href="/forgotpass" class="log-link font-bold text-[#181818] svelte-yqnlg7">Reset</a></p></div> <!></form></div></div>`);function Le(x,g){Z(g,!1);let m=p("");const G=["Patient","Admin","Doctor"];function H(e){i(m,e)}let b=p(!1),u=p(""),h=p(""),_=p("");async function J(){i(b,!0),i(u,"");try{const t=(await ie(ne,a(h),a(_))).user.uid,o=(await ce(de(fe,"users",t))).data();if(!o){i(u,"Invalid credentials. Please check your email and password."),i(b,!1);return}const l=o.role;l===a(m)?l==="Admin"?R("/dashboard/admin"):l==="Patient"?R("/dashboard/patient"):l==="Doctor"&&R("/dashboard/doctor"):alert("Selected role doesn't match your account.")}catch(e){e instanceof Error&&i(u,"Invalid credentials. Please check your email and password.")}finally{i(b,!1)}}le();var w=_e(),q=r(w),M=r(q);me(M);var y=n(M,4);te(y,5,()=>G,ae,(e,t)=>{var c=xe(),o=r(c);let l;var L=r(o),V=n(L);{var X=v=>{var Y=be();d(v,Y)};j(V,v=>{a(m)===a(t)&&v(X)})}s(o),s(c),B(v=>{l=se(o,1,"flex justify-between",null,l,v),W(L,`${a(t)??""} `)},[()=>({active:a(m)===a(t)})],ee),K("click",o,()=>H(a(t))),d(e,c)}),s(y);var F=n(y,2),k=r(F),A=r(k);ue(A,{color:"#FFFF"});var C=n(A,2);z(C),s(k);var D=n(k,2),E=r(D);ve(E,{color:"#FFFF"});var I=n(E,2);z(I),s(D);var P=n(D,2),N=r(P);{var O=e=>{var t=ge();d(e,t)},Q=e=>{var t=re("Login");d(e,t)};j(N,e=>{a(b)?e(O):e(Q,!1)})}s(P);var T=n(P,4);{var U=e=>{var t=he(),c=r(t),o=r(c),l=r(o,!0);s(o),s(c),s(t),B(()=>W(l,a(u))),d(e,t)};j(T,e=>{a(u)&&e(U)})}s(F),s(q),s(w),S(C,()=>a(h),e=>i(h,e)),S(I,()=>a(_),e=>i(_,e)),K("submit",F,oe(J)),d(x,w),$()}export{Le as component};
