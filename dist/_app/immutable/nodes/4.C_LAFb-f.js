const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/CLR_ZPnl.js","../chunks/BUJsW1Et.js"])))=>i.map(i=>d[i]);
import{_ as et}from"../chunks/Dp1pzeXC.js";import{c as R,a as u,t as b}from"../chunks/OnU_l3An.js";import"../chunks/BsN24l2h.js";import{p as A,f as C,n as T,a as N,aE as H,s as S,m as q,o as E,k as e,r as s,l as f,j as P}from"../chunks/FB_gRupF.js";import{e as st}from"../chunks/BkxHr61Q.js";import{i as rt}from"../chunks/BydVSvHb.js";import{s as it}from"../chunks/pRhuVPOZ.js";import{i as nt}from"../chunks/0NZHIKlb.js";import{o as lt}from"../chunks/SaxHpMRh.js";import{w as dt}from"../chunks/Q9qv183y.js";import{j as I,i as ct,e as O,d as y,f as pt,q as Q,c as U,w as V,g as B,t as ut}from"../chunks/CLR_ZPnl.js";import{p as F,_ as vt,L as mt}from"../chunks/DGx0nqGt.js";import{_ as ft}from"../chunks/ByvHsynI.js";import{p as ht,d as _t}from"../chunks/Clgg6vcR.js";import{H as bt}from"../chunks/CPiiS2pq.js";import{I as G,s as J}from"../chunks/CE2TyP2S.js";import{s as K,r as W}from"../chunks/B8bBJGzH.js";import{R as gt}from"../chunks/BjeTbLjS.js";function wt(h,n){A(n,!0);let v=W(n,["$$slots","$$events","$$legacy"]);G(h,K({name:"calendar-plus-2"},()=>v,{iconNode:[["path",{d:"M8 2v4"}],["path",{d:"M16 2v4"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2"}],["path",{d:"M3 10h18"}],["path",{d:"M10 16h4"}],["path",{d:"M12 14v4"}]],children:(m,g)=>{var d=R(),_=C(d);J(_,()=>n.children??T),u(m,d)},$$slots:{default:!0}})),N()}function yt(h,n){A(n,!0);let v=W(n,["$$slots","$$events","$$legacy"]);G(h,K({name:"clipboard-plus"},()=>v,{iconNode:[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}],["path",{d:"M9 14h6"}],["path",{d:"M12 17v-6"}]],children:(m,g)=>{var d=R(),_=C(d);J(_,()=>n.children??T),u(m,d)},$$slots:{default:!0}})),N()}var $t=b('<div class="w-screen min-h-screen flex items-center justify-center"><!></div>'),xt=b('<div slot="sidebar"><div class="flex flex-col items-start justify-start pl-1 font-extrabold"><ul class="menu w-full text-lg space-y-2"><li><a href="/dashboard/patient"><!> Home</a></li> <li><a href="/dashboard/patient/sidebar/medical"><!> Medical Record</a></li> <li><a href="/dashboard/patient/sidebar/appointments"><!> Appointments</a></li> <li><a href="/dashboard/patient/sidebar/bill"><!> Billing Overview</a></li> <li></li></ul></div></div>'),Mt=b('<div slot="navbar"></div>'),Pt=b('<div slot="dropdown"><li><button><!>Logout</button></li></div>'),Rt=b('<div slot="main" class="w-full"><!></div>');function Ft(h,n){A(n,!1);let v=q(""),$="https://static.vecteezy.com/system/resources/thumbnails/008/442/086/small_2x/illustration-of-human-icon-user-symbol-icon-modern-design-on-blank-background-free-vector.jpg",m=q(!0),g=[],d=dt("");H("patients",F),H("userName",d),lt(()=>{const r=I();ct(r,async o=>{if(!o){window.location.href="/login";return}try{const i=O(y,"users",o.uid),t=(await pt(i)).data();S(v,(t==null?void 0:t.role)||""),d.set(((t==null?void 0:t.name)||"")+(t!=null&&t.surname?" "+t.surname:""));const c=Q(U(y,"users"),V("role","==","Patient")),l=await B(c);console.log("Patient docs found:",l.size,l.docs.map(p=>p.data())),ht.set(l.size),g=l.docs.map(p=>({id:p.id,...p.data()})),F.set(g);const w=Q(U(y,"users"),V("role","==","Doctor")),x=await B(w);_t.set(x.size)}catch(i){console.error("Failed to load patient count:",i)}finally{S(m,!1)}})});function _(){const r=I(),o=r.currentUser;if(o){const i=O(y,"users",o.uid);et(async()=>{const{updateDoc:a}=await import("../chunks/CLR_ZPnl.js").then(t=>t.A);return{updateDoc:a}},__vite__mapDeps([0,1]),import.meta.url).then(({updateDoc:a})=>{a(i,{isActive:!1})})}ut(r).then(()=>{window.location.href="/login"})}nt();var j=R(),X=C(j);{var Y=r=>{var o=$t(),i=e(o);ft(i),s(o),u(r,o)},Z=r=>{vt(r,{avatarUrl:$,get selectedRole(){return E(v)},$$slots:{sidebar:(o,i)=>{var a=xt(),t=e(a),c=e(t),l=e(c),w=e(l),x=e(w);bt(x,{}),f(),s(w),s(l);var p=P(l,2),k=e(p),tt=e(k);yt(tt,{}),f(),s(k),s(p);var M=P(p,2),D=e(M),at=e(D);wt(at,{}),f(),s(D),s(M);var L=P(M,2),z=e(L),ot=e(z);gt(ot,{}),f(),s(z),s(L),f(2),s(c),s(t),s(a),u(o,a)},navbar:(o,i)=>{var a=Mt();u(o,a)},dropdown:(o,i)=>{var a=Pt(),t=e(a),c=e(t),l=e(c);mt(l,{}),f(),s(c),s(t),s(a),st("click",c,_),u(o,a)},main:(o,i)=>{var a=Rt(),t=e(a);it(t,n,"default",{}),s(a),u(o,a)}}})};rt(X,r=>{E(m)?r(Y):r(Z,!1)})}u(h,j),N()}export{Ft as component};
