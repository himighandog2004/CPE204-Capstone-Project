import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as Z,g as a,a as $,s as n,c as r,d as i,m as p,b as s,t as W,W as ee}from"../chunks/B4yUTaZg.js";import{s as B}from"../chunks/BorGIr2d.js";import{i as j}from"../chunks/IJ79yAtH.js";import{e as te,i as ae,r as K,a as se}from"../chunks/CnpYhvpb.js";import{t as f,a as c,b as re}from"../chunks/CO_T4kFq.js";import{e as z}from"../chunks/1W6vjebl.js";import{b as S,d as oe,a as le,g as ie,e as ne,f as de}from"../chunks/C848jhzL.js";import{p as ce}from"../chunks/CWmzcjye.js";import{i as fe}from"../chunks/BTQRHe9S.js";import{g as R}from"../chunks/BfwULPMp.js";import{M as ve}from"../chunks/DWDaNjI0.js";import{K as ue}from"../chunks/E4jfsbhi.js";var pe=f('<a href="/" class="flex items-center justify-start w-full"><img src="/backbtn.png" alt="Back Button" class="backbtn w-8 h-8 mt-3 ml-3 hover:bg-[#FFFF] rounded-xl duration-300"></a>');function me(g){var x=pe();c(g,x)}var be=f('<span class="text-green-500">âœ“</span>'),ge=f("<li><button> <!></button></li>"),xe=f('<span class="loading loading-spinner text-neutral"></span>'),he=f('<div class="toast"><div role="alert" class="alert alert-error alert-soft mt-4 text-white rounded-lg"><span> </span></div></div>'),_e=f(`<div class="bg-[#181818] w-screen h-screen flex items-center justify-center overflow-hidden"><div class="login-card rounded-xl bg-[#f7374f] flex flex-col items-center text-white svelte-yqnlg7"><!> <div class="flex flex-col items-center justify-center"><img src="/cloudward.png" alt="Logo" class="w-32 h-32 mb-5"> <h1 class="text-3xl text-white font-bold mb-1">CloudWard</h1></div> <div class="menu menu-horizontal bg-[#181818] rounded-xl"></div> <form class="flex flex-col items-center justify-evenly h-full w-full px-6 mt-3"><label class="input input-bordered bg-[#181818]"><!> <input class="text-white" type="text" placeholder="E-Mail"></label> <label class="input input-bordered bg-[#181818]"><!> <input class="text-white" type="password" placeholder="Password"></label> <button type="submit" class="btn bg-white text-black hover:bg-gray-200 w-1/2 font-bold"><!></button> <div class="flex flex-col items-center"><p class="text-white text-sm">Don't have an account? <a href="/register" class="log-link font-bold text-[#181818] svelte-yqnlg7">Register</a></p> <p class="text-white text-sm">Forgot your password? <a href="/forgotpass" class="log-link font-bold text-[#181818] svelte-yqnlg7">Reset</a></p></div> <!></form></div></div>`);function Le(g,x){Z(x,!1);let m=p("Admin");const G=["Patient","Admin","Doctor"];function H(e){i(m,e)}let b=p(!1),v=p(""),h=p(""),_=p("");async function J(){i(b,!0),i(v,"");try{const t=(await oe(le,a(h),a(_))).user.uid,o=(await ie(ne(de,"users",t))).data();if(!o){i(v,"Invalid credentials. Please check your email and password."),i(b,!1);return}const l=o.role;l===a(m)?l==="Admin"?R("/dashboard/admin"):l==="Patient"?R("/dashboard/patien"):l==="Doctor"&&R("/dashboard/doctor"):alert("Selected role doesn't match your account.")}catch(e){e instanceof Error&&i(v,"Invalid credentials. Please check your email and password.")}finally{i(b,!1)}}fe();var w=_e(),q=r(w),A=r(q);me(A);var y=n(A,4);te(y,5,()=>G,ae,(e,t)=>{var d=ge(),o=r(d);let l;var L=r(o),V=n(L);{var X=u=>{var Y=be();c(u,Y)};j(V,u=>{a(m)===a(t)&&u(X)})}s(o),s(d),W(u=>{l=se(o,1,"flex justify-between",null,l,u),B(L,`${a(t)??""} `)},[()=>({active:a(m)===a(t)})],ee),z("click",o,()=>H(a(t))),c(e,d)}),s(y);var F=n(y,2),k=r(F),M=r(k);ve(M,{color:"#FFFF"});var C=n(M,2);K(C),s(k);var D=n(k,2),E=r(D);ue(E,{color:"#FFFF"});var I=n(E,2);K(I),s(D);var P=n(D,2),N=r(P);{var O=e=>{var t=xe();c(e,t)},Q=e=>{var t=re("Login");c(e,t)};j(N,e=>{a(b)?e(O):e(Q,!1)})}s(P);var T=n(P,4);{var U=e=>{var t=he(),d=r(t),o=r(d),l=r(o,!0);s(o),s(d),s(t),W(()=>B(l,a(v))),c(e,t)};j(T,e=>{a(v)&&e(U)})}s(F),s(q),s(w),S(C,()=>a(h),e=>i(h,e)),S(I,()=>a(_),e=>i(_,e)),z("submit",F,ce(J)),c(g,w),$()}export{Le as component};
