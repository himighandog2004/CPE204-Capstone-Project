const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/C6r7_MrR.js","../chunks/BUJsW1Et.js"])))=>i.map(i=>d[i]);
import{_ as U}from"../chunks/Dp1pzeXC.js";import"../chunks/CWj6FrbW.js";import"../chunks/69_IOA4Y.js";import{p as aa,f as ta,B as va,a as sa,s as D,g as V,m as j,b as B,c as a,r as t,n as l,d as u}from"../chunks/fyA_xwwE.js";import{e as Q}from"../chunks/DFa6dEAd.js";import{c as ea,a as c,t as h}from"../chunks/DWMNOJpS.js";import{i as fa}from"../chunks/CNHKDqpi.js";import{s as ha}from"../chunks/DG6xUKLB.js";import{i as _a}from"../chunks/DUL5_GJ7.js";import{o as ba}from"../chunks/CcDUpYYR.js";import{w as oa}from"../chunks/B3WABoGI.js";import{g as T,o as ga,a as f,d as F,b as ya,q as Z,c as G,w as J,e as K,s as wa}from"../chunks/C6r7_MrR.js";import{_ as Pa,L as W}from"../chunks/iQuuwBUd.js";import{_ as xa}from"../chunks/lI7Ky7Md.js";import{p as $a,d as Aa}from"../chunks/BP_NDEYP.js";import{p as X,U as Ma,P as La,R as Ra,A as Da}from"../chunks/CBDH4t1Q.js";import{H as ka}from"../chunks/DwWKgFmY.js";import{s as Ia}from"../chunks/C2j7JWpC.js";import{s as qa,r as Ea}from"../chunks/D41GpERP.js";import{I as Sa}from"../chunks/5v9JKYM0.js";function za(w,p){aa(p,!0);let _=Ea(p,["$$slots","$$events","$$legacy"]);Sa(w,qa({name:"microscope"},()=>_,{iconNode:[["path",{d:"M6 18h8"}],["path",{d:"M3 22h18"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1"}],["path",{d:"M9 14h2"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3"}]],children:(b,P)=>{var v=ea(),g=ta(v);Ia(g,()=>p.children??va),c(b,v)},$$slots:{default:!0}})),sa()}const Y=oa([]);var Ca=h('<div class="w-screen min-h-screen flex items-center justify-center"><!></div>'),Ha=h('<div slot="sidebar"><div class="flex flex-col items-start justify-start pl-1 font-extrabold"><ul class="menu w-full text-lg space-y-2"><li><a href="/dashboard/admin"><!> Home</a></li> <li><details open><summary><img src="/bed-pulse-solid.png" class="w-6 h-5" alt="patient"> Patient Records</summary> <ul class="text-base w-50"><li><a href="/dashboard/admin/sidebar/patientlist">Patient List</a></li> <li><a href="/dashboard/admin/sidebar/appointments">Appointments</a></li></ul></details></li> <li><details open><summary><!> Staff Management</summary> <ul class="text-base w-50"><li><a href="/dashboard/admin/sidebar/doctorslist">Manage/Add Doctors</a></li></ul></details></li> <li><details open><summary><!> Inventory</summary> <ul class="text-base w-50"><li><a href="/dashboard/admin/sidebar/pharmacy">Pharmacy</a></li> <li><a href="/dashboard/admin/sidebar/equipment">Equipment</a></li></ul></details></li> <li><a href="/dashboard/admin/sidebar/listbill"><!> Billing Overview</a></li> <li><a href="/dashboard/admin/sidebar/analytics"><!> Analytics</a></li> <li><a href="/dashboard/admin/sidebar/lab"><!> Lab Integration</a></li> <li class="pt-4"><button class="btn btn-soft btn-info w-full flex items-center gap-2"><!> Logout</button></li></ul></div></div>'),Na=h('<div slot="navbar"></div>'),Oa=h('<div slot="dropdown"><li><button><!>Logout</button></li></div>'),Ua=h('<div slot="main" class="w-full"><!></div>');function nt(w,p){aa(p,!1);let _=j(""),k="https://static.vecteezy.com/system/resources/thumbnails/008/442/086/small_2x/illustration-of-human-icon-user-symbol-icon-modern-design-on-blank-background-free-vector.jpg",b=j(!0),P=[],v=oa("");D("patients",X),D("userName",v),D("appointments",Y),ba(()=>{const i=T();ga(i,async e=>{if(!e){window.location.href="/login";return}try{const r=F(f,"users",e.uid),s=(await ya(r)).data();B(_,(s==null?void 0:s.role)||""),v.set(((s==null?void 0:s.name)||"")+(s!=null&&s.surname?" "+s.surname:""));const d=Z(G(f,"users"),J("role","==","Patient")),n=await K(d);console.log("Patient docs found:",n.size,n.docs.map(m=>m.data())),$a.set(n.size),P=n.docs.map(m=>({id:m.id,...m.data()})),X.set(P);const y=Z(G(f,"users"),J("role","==","Doctor")),x=await K(y);Aa.set(x.size)}catch(r){console.error("Failed to load patient count:",r)}finally{B(b,!1)}}),U(()=>import("../chunks/C6r7_MrR.js").then(e=>e.p),__vite__mapDeps([0,1]),import.meta.url).then(async({collection:e,getDocs:r})=>{const o=await r(e(f,"appointments"));Y.set(o.docs.map(s=>({id:s.id,...s.data()})))})});function g(){const i=T(),e=i.currentUser;if(e){const r=F(f,"users",e.uid);U(async()=>{const{updateDoc:o}=await import("../chunks/C6r7_MrR.js").then(s=>s.p);return{updateDoc:o}},__vite__mapDeps([0,1]),import.meta.url).then(({updateDoc:o})=>{o(r,{isActive:!1})})}wa(i).then(()=>{window.location.href="/login"})}_a();var I=ea(),ra=ta(I);{var ia=i=>{var e=Ca(),r=a(e);xa(r),t(e),c(i,e)},na=i=>{Pa(i,{avatarUrl:k,get selectedRole(){return V(_)},$$slots:{sidebar:(e,r)=>{var o=Ha(),s=a(o),d=a(s),n=a(d),y=a(n),x=a(y);ka(x,{}),l(),t(y),t(n);var m=u(n,4),q=a(m),E=a(q),la=a(E);Ma(la,{}),l(),t(E),l(2),t(q),t(m);var $=u(m,2),S=a($),z=a(S),da=a(z);La(da,{}),l(),t(z),l(2),t(S),t($);var A=u($,2),C=a(A),ma=a(C);Ra(ma,{}),l(),t(C),t(A);var M=u(A,2),H=a(M),ca=a(H);Da(ca,{}),l(),t(H),t(M);var L=u(M,2),N=a(L),pa=a(N);za(pa,{}),l(),t(N),t(L);var O=u(L,2),R=a(O),ua=a(R);W(ua,{}),l(),t(R),t(O),t(d),t(s),t(o),Q("click",R,g),c(e,o)},navbar:(e,r)=>{var o=Na();c(e,o)},dropdown:(e,r)=>{var o=Oa(),s=a(o),d=a(s),n=a(d);W(n,{}),l(),t(d),t(s),t(o),Q("click",d,g),c(e,o)},main:(e,r)=>{var o=Ua(),s=a(o);ha(s,p,"default",{}),t(o),c(e,o)}}})};fa(ra,i=>{V(b)?i(ia):i(na,!1)})}c(w,I),sa()}export{nt as component};
